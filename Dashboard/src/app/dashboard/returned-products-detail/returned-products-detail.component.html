<cintas-statistics-page-menu
  title="Proof Return"
  [timeSelection]="timeSelection"
  (timeSelectionChanged)="timeselectionChange($event)"
  [features]="features">
</cintas-statistics-page-menu>

<div class="row justify-content-center mb-5">
  <div class="col d-flex justify-content-center">

    <cintas-chart-box
      chartInfoTitle="Proof Return KPI"
      [chartInfo]="chartInfo">

      <ngx-charts-bar-vertical-2d
        [results]="returnedProductsData$ | async"

        [view]="view"
        [scheme]="colorScheme"

        [legend]="true"
        [xAxis]="true"
        [yAxis]="true"

        [barPadding]="2"
        [groupPadding]="4"

        yAxisLabel="#Items returned"
        [showYAxisLabel]="true"

        [roundDomains]="true">

        <ng-template #tooltipTemplate let-model="model">
          <div class="tooltip-label">Return from {{model.name}}</div>
          <div class="tooltip-val">{{model.value}} items</div>
          <div class="mt-2 text-left">
            <table class="table table-sm table-bordered">
              <tbody>
              <tr>
                <td>Clean return</td>
                <td>{{model.clean_count}}</td>
              </tr>
              <tr>
                <td>Soil return</td>
                <td>{{model.soil_count}}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </ng-template>

      </ngx-charts-bar-vertical-2d>

    </cintas-chart-box>

  </div>
</div>